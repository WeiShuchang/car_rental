{% extends "home/base.html" %}
{% load static %}

{% block content %}
<style>
  .custom-hero {

    background-size: cover; /* Cover the div without stretching */
    background-position: top; /* Show the top part of the image */
    background-repeat: no-repeat;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 !important; /* Ensure no extra padding */
    margin: 0 !important; /* Ensure no extra margin */
    overflow: hidden !important; /* Prevent content overflow */
}

  
  .custom-hero .row {
      height: 100% !important;
      align-items: center !important;
  }
  
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<section class="ftco-section contact-section" id="signup-page">
  <div class="container">
    <div class="row d-flex my-2 contact-info">
      <div class="col-md-4">
        <div class="row mb-5">
          <div class="col-md-12">
            <div class="border w-100 p-4 rounded mb-2 d-flex">
              <div class="icon mr-3">
                <span class="icon-map-o"></span>
              </div>
                <p><span>Address:</span> Camp Dangwa, La Trinidad Benguet 2601 Philippines</p>
            </div>
          </div>
          <div class="col-md-12">
            <div class="border w-100 p-4 rounded mb-2 d-flex">
              <div class="icon mr-3">
                <span class="icon-mobile-phone"></span>
              </div>
                <p><span>Phone:</span> <a href="tel://1234567920">+639122042550</a></p>
            </div>
          </div>
          <div class="col-md-12">
            <div class="border w-100 p-4 rounded mb-2 d-flex">
              <div class="icon mr-3">
                <span class="icon-envelope-o"></span>
              </div>
                 <p><span>Email:</span> <a href="mailto:info@yoursite.com">ashleycarrental.com</a></p>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-8 block-9 mb-md-5">
   
      <form method="POST" class="bg-light px-5 py-2 contact-form text-dark">
          {% csrf_token %}
          <h2 class="text-center">Sign Up</h2>

          <!-- Display messages -->
          {% for message in messages %}
              <div class="alert 
                  {% if message.tags == 'success' %}alert-success
                  {% elif message.tags == 'error' %}alert-danger
                  {% elif message.tags == 'warning' %}alert-warning
                  {% endif %}
                  alert-dismissible fade show" role="alert" id="alert-message">
                  {{ message|linebreaksbr }}
              </div>
          {% endfor %}

          <div class="row">
              <div class="col-md-6 form-group">
                  <label for="username" class="form-label">Username</label>
                  <input type="text" name="username" id="username" class="form-control" value="{{ form.username.value|default_if_none:'' }}" required>
                  {% if form.username.errors %}
                      <small class="text-danger">{{ form.username.errors.0 }}</small>
                  {% endif %}
              </div>
              <div class="col-md-6 form-group">
                  <label for="email" class="form-label">Email</label>
                  <input type="email" name="email" id="email" class="form-control" value="{{ form.email.value|default_if_none:'' }}" required>
                  {% if form.email.errors %}
                      <small class="text-danger">{{ form.email.errors.0 }}</small>
                  {% endif %}
              </div>
          </div>

          <div class="row">
              <div class="col-md-6 form-group">
                  <label for="first_name" class="form-label">First Name</label>
                  <input type="text" name="first_name" id="first_name" class="form-control" value="{{ form.first_name.value|default_if_none:'' }}" required>
                  {% if form.first_name.errors %}
                      <small class="text-danger">{{ form.first_name.errors.0 }}</small>
                  {% endif %}
              </div>
              <div class="col-md-6 form-group">
                  <label for="last_name" class="form-label">Last Name</label>
                  <input type="text" name="last_name" id="last_name" class="form-control" value="{{ form.last_name.value|default_if_none:'' }}" required>
                  {% if form.last_name.errors %}
                      <small class="text-danger">{{ form.last_name.errors.0 }}</small>
                  {% endif %}
              </div>
          </div>

          <div class="row">
              <div class="col-md-6 form-group position-relative">
                  <label for="password1" class="form-label">Password</label>
                  <div class="position-relative">
                      <input type="password" name="password1" id="password1" class="form-control pr-5" required>
                      <i class="fas fa-eye position-absolute" id="togglePassword1" 
                        style="right: 15px; top: 50%; transform: translateY(-50%); cursor: pointer;"></i>
                  </div>
                  {% if form.password1.errors %}
                      <small class="text-danger">{{ form.password1.errors.0 }}</small>
                  {% endif %}
              </div>
              <div class="col-md-6 form-group position-relative">
                  <label for="password2" class="form-label">Confirm Password</label>
                  <div class="position-relative">
                      <input type="password" name="password2" id="password2" class="form-control pr-5" required>
                      <i class="fas fa-eye position-absolute" id="togglePassword2" 
                        style="right: 15px; top: 50%; transform: translateY(-50%); cursor: pointer;"></i>
                  </div>
                  {% if form.password2.errors %}
                      <small class="text-danger">{{ form.password2.errors.0 }}</small>
                  {% endif %}
              </div>
              <div class="col-md-6 form-group">
                  <label for="contact_number" class="form-label">Contact Number</label>
                  <input type="number" name="contact_number" id="contact_number" class="form-control" required>
              </div>
          </div>

          <div class="form-group text-center">
              <button type="submit" class="btn btn-sm btn-dark py-3 px-5">Sign Up</button>
          </div>
          
          <div class="text-center">
              <p>Already have an account? <a href="{% url 'login' %}" style="text-decoration:underline;">Log in here</a></p>
          </div>
      </form>
      
      </div>
    </div>
  </div>
</section>

<script>
  
    // Ensure the DOM is loaded before accessing elements
    document.addEventListener("DOMContentLoaded", function() {
      // Get the alert message element
      let alertMessage = document.getElementById("alert-message");

      // Set timeout to hide the alert after 5000 milliseconds (5 seconds)
      setTimeout(function() {
          // Hide the alert by changing its display style to "none"
          alertMessage.style.display = "none";
      }, 4000);
  });

    document.addEventListener('DOMContentLoaded', function() {
        // Toggle for first password field
        const togglePassword1 = document.querySelector('#togglePassword1');
        const password1 = document.querySelector('#password1');
        
        togglePassword1.addEventListener('click', function() {
            const type = password1.getAttribute('type') === 'password' ? 'text' : 'password';
            password1.setAttribute('type', type);
            this.classList.toggle('fa-eye');
            this.classList.toggle('fa-eye-slash');
        });

        // Toggle for second password field
        const togglePassword2 = document.querySelector('#togglePassword2');
        const password2 = document.querySelector('#password2');
        
        togglePassword2.addEventListener('click', function() {
            const type = password2.getAttribute('type') === 'password' ? 'text' : 'password';
            password2.setAttribute('type', type);
            this.classList.toggle('fa-eye');
            this.classList.toggle('fa-eye-slash');
        });
    });
</script>
{% endblock content %}
